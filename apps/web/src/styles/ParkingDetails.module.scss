@import './variables';
@import './mixins';

.detailsContainer {
  height: 100%;
  overflow-y: auto;
  background: $gray-50;
  @include custom-scrollbar;

  .dark & {
    background: $dark-bg;
  }

  .header {
    position: sticky;
    top: 0;
    background: $white;
    border-bottom: 1px solid $gray-200;
    padding: $spacing-4;
    @include flex-between;
    align-items: center;
    gap: $spacing-3;
    z-index: 10;
    box-shadow: $shadow-sm;

    .dark & {
      background: $dark-bg;
      border-color: $dark-border;
    }

    .backButton {
      @include button-base;
      background: transparent;
      padding: $spacing-2;
      color: $gray-700;

      .dark & {
        color: $dark-text;
      }

      &:hover {
        background: $gray-100;

        .dark & {
          background: $dark-bg-secondary;
        }
      }

      svg {
        width: 1.25rem;
        height: 1.25rem;
      }
    }

    h2 {
      font-weight: 500;
      color: $gray-900;
      font-size: 1rem;

      .dark & {
        color: $dark-text;
      }
    }
  }

  .heroImage {
    width: 100%;
    height: 12rem;
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    @include flex-center;

    .dark & {
      background: linear-gradient(135deg, $dark-bg-secondary 0%, darken($dark-bg, 5%) 100%);
    }

    svg {
      width: 4rem;
      height: 4rem;
      color: $primary-blue;

      .dark & {
        color: $primary-blue-light;
      }
    }
  }

  .content {
    padding: $spacing-4;
    display: flex;
    flex-direction: column;
    gap: $spacing-4;
  }

  .infoCard {
    @include card;
    padding: $spacing-4;

    .cardHeader {
      @include flex-between;
      align-items: flex-start;
      margin-bottom: $spacing-3;

      h1 {
        font-size: 1.25rem;
        font-weight: 600;
        color: $gray-900;

        .dark & {
          color: $dark-text;
        }
      }

      .priceBadge {
        padding: $spacing-1 $spacing-2;
        border-radius: $radius-md;
        font-weight: 600;
        font-size: 0.875rem;
        color: $white;

        &.cheap {
          background: $secondary-green;
        }

        &.moderate {
          background: $secondary-yellow;
        }

        &.expensive {
          background: $secondary-orange;
        }
      }
    }

    .address {
      display: flex;
      align-items: center;
      gap: $spacing-1;
      color: $gray-600;
      font-size: 0.875rem;
      margin-bottom: $spacing-3;

      .dark & {
        color: $gray-400;
      }

      svg {
        width: 1rem;
        height: 1rem;
      }
    }

    .metadata {
      display: flex;
      align-items: center;
      gap: $spacing-4;
      flex-wrap: wrap;
      margin-bottom: $spacing-3;

      .metaItem {
        display: flex;
        align-items: center;
        gap: $spacing-1;
        font-size: 0.875rem;

        svg {
          width: 1rem;
          height: 1rem;
        }

        &.rating {
          svg {
            fill: #fbbf24;
            color: #fbbf24;
          }
        }

        &.distance svg {
          color: $primary-blue;
        }

        .count {
          color: $gray-400;

          .dark & {
            color: $gray-500;
          }
        }
      }
    }

    .separator {
      height: 1px;
      background: $gray-200;
      margin: $spacing-3 0;

      .dark & {
        background: $dark-border;
      }
    }

    .priceList {
      h3 {
        font-size: 1rem;
        font-weight: 500;
        color: $gray-900;
        margin-bottom: $spacing-2;

        .dark & {
          color: $dark-text;
        }
      }

      .priceGrid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: $spacing-2;
        font-size: 0.875rem;

        .priceBox {
          text-align: center;
          padding: $spacing-2;
          background: $gray-50;
          border-radius: $radius-md;

          .dark & {
            background: $dark-bg;
          }

          .priceLabel {
            color: $gray-500;
            margin-bottom: $spacing-1;

            .dark & {
              color: $gray-400;
            }
          }

          .priceValue {
            font-weight: 500;
            color: $primary-blue;

            .dark & {
              color: $primary-blue-light;
            }
          }
        }
      }
    }

    .operatingInfo {
      display: flex;
      flex-direction: column;
      gap: $spacing-2;

      .infoRow {
        display: flex;
        align-items: center;
        gap: $spacing-2;
        font-size: 0.875rem;
        color: $gray-900;

        .dark & {
          color: $dark-text-secondary;
        }

        svg {
          width: 1rem;
          height: 1rem;
          color: $gray-500;
        }
      }
    }

    .paymentFeatures {
      h3 {
        font-size: 0.875rem;
        font-weight: 500;
        color: $gray-900;
        margin-bottom: $spacing-2;

        .dark & {
          color: $dark-text;
        }
      }

      .badgeList {
        display: flex;
        gap: $spacing-2;
        flex-wrap: wrap;

        .badge {
          padding: $spacing-1 $spacing-2;
          border: 1px solid $gray-300;
          border-radius: $radius-sm;
          font-size: 0.75rem;
          display: flex;
          align-items: center;
          gap: $spacing-1;

          .dark & {
            border-color: $gray-600;
            color: $dark-text-secondary;
          }

          svg {
            width: 0.75rem;
            height: 0.75rem;
          }
        }
      }
    }

    .actionButtons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: $spacing-2;

      .primaryButton {
        @include button-base;
        background: $primary-blue;
        color: $white;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: $spacing-2;

        &:hover {
          background: $primary-blue-dark;
        }

        svg {
          width: 1rem;
          height: 1rem;
        }
      }

      .secondaryButton {
        @include button-base;
        border: 1px solid $gray-300;
        background: transparent;
        color: $gray-700;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: $spacing-2;

        .dark & {
          border-color: $dark-border;
          color: $dark-text;
        }

        &:hover {
          background: $gray-50;

          .dark & {
            background: $dark-bg-secondary;
          }
        }

        svg {
          width: 1rem;
          height: 1rem;
        }
      }
    }

    .reportButton {
      @include button-base;
      width: 100%;
      border: 1px solid $gray-300;
      background: transparent;
      color: $gray-700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: $spacing-2;

      .dark & {
        border-color: $dark-border;
        color: $dark-text;
      }

      &:hover {
        background: $gray-50;

        .dark & {
          background: $dark-bg-secondary;
        }
      }

      svg {
        width: 1rem;
        height: 1rem;
      }
    }
  }

  .reviewsSection {
    display: flex;
    flex-direction: column;
    gap: $spacing-3;

    h3 {
      font-weight: 500;
      color: $gray-900;

      .dark & {
        color: $dark-text;
      }
    }

    .reviewCard {
      @include card;
      padding: $spacing-4;

      .reviewHeader {
        @include flex-between;
        align-items: flex-start;
        margin-bottom: $spacing-2;

        .reviewUser {
          display: flex;
          align-items: center;
          gap: $spacing-2;

          .avatar {
            width: 2rem;
            height: 2rem;
            background: $primary-blue;
            border-radius: $radius-full;
            @include flex-center;
            color: $white;
            font-weight: 600;
          }

          .userInfo {
            .userName {
              font-weight: 500;
              font-size: 0.875rem;
              color: $gray-900;

              .dark & {
                color: $dark-text;
              }
            }

            .stars {
              display: flex;
              align-items: center;
              gap: $spacing-1;

              svg {
                width: 0.75rem;
                height: 0.75rem;

                &.filled {
                  fill: #fbbf24;
                  color: #fbbf24;
                }

                &.empty {
                  color: $gray-300;

                  .dark & {
                    color: $gray-600;
                  }
                }
              }
            }
          }
        }

        .date {
          font-size: 0.75rem;
          color: $gray-400;
        }
      }

      .reviewComment {
        font-size: 0.875rem;
        color: $gray-600;

        .dark & {
          color: $gray-400;
        }
      }
    }
  }
}
